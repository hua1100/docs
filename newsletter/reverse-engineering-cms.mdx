---
title: "貼上的一鍵上稿不是夢 公司的20年老系統，被我用逆向工程破解了！"
description: "用 Python 逆向工程破解公司老舊內容管理系統，實現一鍵自動化上稿"
keywords: ["逆向工程", "自動化", "Python", "CMS", "HAR", "ASP.NET", "工作效率"]
---

## 貼上的一鍵上稿不是夢

每間公司一定都會有一個內部網站，速度超慢，只是要輸出幾筆資料，都已經泡好咖啡、吃完早餐了，網頁卻還在轉圈圈；操作繁瑣，上架一篇文章要拆成十個段落，不斷重複「新增區塊 → 貼上文字/圖片 → 儲存」的地獄；好不容易填完資料，按下儲存卻跳出「Login Timeout」，所有內容都沒存到。

敝司的內容管理系統，即是屬於這類令人髮指的存在，每當同事寄來文章上架的需求，我的心情都在崩潰邊緣，因為半個工作天就要浪費在跟這個系統耗著了。

---

## 什麼是逆向工程？

想像一下，如果你在餐廳吃到一碗超級好吃的紅燒牛肉麵，但老闆死都不給你食譜（這就是封閉系統或原始碼）。你為了想在家裡自己做，於是：

1. **觀察外觀**：看湯的顏色、肉的切法。
2. **品嚐分析**：喝一口湯，發現有花椒味、豆瓣醬味和一點點甘草甜（這就是分析數據包）。
3. **推敲順序**：你猜測老闆應該是先炒了香料，才下肉去燉（這就是分析運作邏輯）。
4. **實驗還原**：你自己買材料回來試，直到煮出的味道跟老闆的一模一樣。

「從結果推回製作過程」的行為，就叫做逆向工程。

---

## 四個核心步驟

<Steps>
  <Step title="第一步：錄製行為">
    「捕捉瀏覽器與伺服器之間的所有密談。」打開瀏覽器的 F12 開發者工具（Network 面板），按下「儲存」或「登入」，完成一次完整的手動流程。將這些通訊記錄導出為 `.har` 檔案——這份檔案就是網站運作的「劇本」，記錄了所有的 URL、Header 和數據。
  </Step>
  <Step title="第二步：辨識參數">
    「找出維持對話的『通關密語』。」在 HAR 檔案中搜尋關鍵字：`__VIEWSTATE`、`__RequestVerificationToken` 或 `Cookie`。分辨哪些數據是「死的」（你的文章內容），哪些是「活的」（由伺服器動態產生、每次都會變的 Token）。找出「活的」參數是在哪一個 GET 請求中被發放的。
  </Step>
  <Step title="第三步：邏輯建模">
    「還原操作的先後順序與因果關係。」畫出流程圖：必須先執行 GET 頁面取得 Token，才能執行 POST 上傳圖片；拿到圖片 URL 後，最後才能 POST 儲存文章。
  </Step>
  <Step title="第四步：模擬執行">
    「寫出 Python 腳本，讓伺服器分不出你是人還是機器。」使用 `requests.Session()` 維持連線狀態（Cookie），使用 `BeautifulSoup` 從 HTML 中自動抓取動態 Token，將內容填入參數，發送與 HAR 檔案中一模一樣的 POST 請求。
  </Step>
</Steps>

<Warning>
HAR 檔案可能含有敏感資料，不建議直接餵給 LLM，最好用描述的方式請 AI 教你要用什麼關鍵字搜尋。
</Warning>

逆向工程自動化的核心**不在於寫程式**，而是在於「觀察」。只要你能從 HAR 檔案中看穿伺服器對「狀態」的要求，就能寫出讓它無法拒絕的模擬請求。

---

## 溯源公司系統 DNA

透過逆向工程，我終於理解為何這套內容系統如此難用，原來公司用的是 2002 年就推出的老舊系統「ASP.NET WebForms」。

- 無法一次上架文章，要拆成多個區塊，是因為 WebForms 設定成做每個動作都要傳送一大包 HTML，一次處理整篇文章會超過負荷而崩潰。
- 系統的介面死板，源於 WebForms 的 HTML ID 又臭又長的特性，很難與現代的 CSS 樣式相容。

---

## 有餘裕才有空間嘗試 AI

USPACE AI 長海總理分享：「忙碌是創新的大敵，就像過去在媒體業，每天都陷在日常旋風之中，怎麼有時間研究新工具、微調提示詞，甚至學習跨領域知識？」

他給的建議是，建立「先用 AI 把現有工作變快變好 → 省下時間 → 用這些時間繼續優化或嘗試新應用 → 創造更多餘裕」的循環。

<Tip>
「有時間失敗」，在 AI 時代是一件非常重要的事情。希望這份電子報，能幫助你用 AI 創造第一桶餘裕。
</Tip>
